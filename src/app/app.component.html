<div class="map-wrapper">
  <agm-map [latitude]="selectedLat" [longitude]="selectedLng" *ngIf="selectedLat && selectedLng" >
    <agm-marker *ngFor="let harbor of harborList" [latitude]="getInt(harbor.lat)" [longitude]="getInt(harbor.lon)" (markerClick)="getWeather(harbor)">
      <agm-info-window [isOpen]="harbor.showInfoWindow">
        <div class="info-window-grid">
            <div>
                <img src="https://devapi.harba.co{{harbor.image}}" #harborThumbnail (error)="harborThumbnail.src = 'http://www.theemailcompany.com/wp-content/uploads/2016/02/no-image-placeholder-big-300x200.jpg'" class="info-window-image">
            </div>
            <div>
              <ul *ngIf="harbor && harbor.weather">
                <li>
                  <h3>
                    {{harbor.name}}
                  </h3>
                </li>
                <li><strong>Provider: </strong>{{harbor.weather.provider}}</li>
                <li><strong>Description: </strong>{{harbor.weather.weather[0].description}}</li>
                <li><strong>Humidity: </strong>{{harbor.weather.main.humidity}}</li>
                <li><strong>Temperature: </strong>{{harbor.weather.main.temp}}</li>
                <li><strong>Pressure: </strong>{{harbor.weather.main.pressure}}</li>
              </ul>
            </div>
        </div>
      </agm-info-window>
    </agm-marker>
  </agm-map>
</div>
